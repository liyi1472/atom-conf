module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),a=n(3),s=n(8),c=n(9),u=n(4),l=a.promisify(u.access),d=a.promisify(c.spawn),f=a.promisify(u.stat),p=e=>o(void 0,void 0,void 0,(function*(){let t;try{t=yield f(e)}catch(t){return atom.inDevMode()&&console.warn(`browse: Skipping '${e}' – not found`),!1}return t.isDirectory()}));t.folderExists=p;const m=(e="")=>atom.config.get(`browse.${e}`);t.getConfig=m;t.getPackagesDirs=()=>{return atom.packages.getPackageDirPaths().filter(e=>!e.includes("app.asar"))};const h=()=>{switch(i.platform()){case"darwin":return"Finder";case"win32":return"Explorer";default:return"file manager"}};t.showFolder=(e,t)=>o(void 0,void 0,void 0,(function*(){if(!t.length||!(yield p(t)))return;const n=m("customFileManager.fullPath");if(n){let o=m("customFileManager.openArgs");if(o.length>0)if(o.includes("%path%")){const e=o.indexOf("%path%");o[e]=o[e].replace("%path%",t)}else o.push(t);else o=[t];y(`Opening ${e} in custom file manager`),d(n,o,{})}else y(`Opening ${e} in ${h()}`),s.shell.openItem(t)}));t.showInFolder=e=>o(void 0,void 0,void 0,(function*(){if(!e.length||!(yield(e=>o(void 0,void 0,void 0,(function*(){try{yield l(e)}catch(t){return atom.inDevMode()&&console.warn(`browse: Skipping '${e}' – not found`),!1}return!0})))(e)))return;const t=m("customFileManager.fullPath");if(t){let n=m("customFileManager.revealArgs");if(n.length>0)if(n.includes("%path%")){const t=n.indexOf("%path%");n[t]=n[t].replace("%path%",e)}else n.push(e);else n=[e];y(`Revealing \`${r.basename(e)}\` in custom file manager`),d(t,n,{})}else y(`Revealing \`${r.basename(e)}\` in ${h()}`),s.shell.showItemInFolder(e)}));const y=(e,t=!1)=>{"all"===m("notify")&&atom.notifications.addInfo(`**browse**: ${e}`,{dismissable:t,icon:"check"}),atom.inDevMode()&&console.info(`browse: ${e}`)};t.warn=(e,t=!1)=>{"none"!==m("notify")&&atom.notifications.addWarning(`**browse**: ${e}`,{dismissable:t}),m("beep")&&atom.beep(),atom.inDevMode()&&console.warn(`browse: ${e}`)}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),a=r(n(7)),s=r(n(10)),c=r(n(17)),u=r(n(18)),l=r(n(19)),d=r(n(20)),f=r(n(21)),p=r(n(22)),m=n(23);var h=n(24);let y;t.config=h.config,t.activate=function(){return o(this,void 0,void 0,(function*(){(y=new i.CompositeDisposable).add(atom.commands.add("atom-workspace",{"browse:.apm-folder":()=>{a.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:application-folder":()=>{s.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:configuration-folder":()=>{f.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:app-data-folder":()=>{c.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:packages-folder":()=>{l.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:project-folders":()=>{d.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:project-dependencies":()=>{u.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:resources-folder":()=>{p.default()}})),y.add(atom.commands.add("atom-workspace",{"browse:reveal-open-files":()=>{m.revealFiles()}})),y.add(atom.commands.add("atom-workspace",{"browse:reveal-file":()=>{m.revealFile()}}))}))},t.deactivate=function(){y&&y.dispose()}},function(e,t){e.exports=require("atom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),r=n(0);t.default=()=>{const e=o.dirname(atom.config.getUserConfigPath()),t=o.resolve(e,".apm");r.showFolder(".apm Folder",t)}},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),a=n(1),s=r(n(11)),c=n(0);t.default=()=>o(void 0,void 0,void 0,(function*(){const e=a.dirname(a.resolve(process.execPath));let t;if("darwin"===i.platform()&&c.getConfig("openAppPackage")){const n=s.default.sync("Resources",{cwd:e,type:"directory"});t=n?a.dirname(n):e}else t=e;c.showFolder("Application Folder",t)}))},function(e,t,n){"use strict";const o=n(1),r=n(12),i=n(16),a=Symbol("findUp.stop");e.exports=async(e,t={})=>{let n=o.resolve(t.cwd||"");const{root:i}=o.parse(n),s=[].concat(e),c=async t=>{if("function"!=typeof e)return r(s,t);const n=await e(t.cwd);return"string"==typeof n?r([n],t):n};for(;;){const e=await c({...t,cwd:n});if(e===a)return;if(e)return o.resolve(n,e);if(n===i)return;n=o.dirname(n)}},e.exports.sync=(e,t={})=>{let n=o.resolve(t.cwd||"");const{root:i}=o.parse(n),s=[].concat(e),c=t=>{if("function"!=typeof e)return r.sync(s,t);const n=e(t.cwd);return"string"==typeof n?r.sync([n],t):n};for(;;){const e=c({...t,cwd:n});if(e===a)return;if(e)return o.resolve(n,e);if(n===i)return;n=o.dirname(n)}},e.exports.exists=i,e.exports.sync.exists=i.sync,e.exports.stop=a},function(e,t,n){"use strict";const o=n(1),r=n(4),{promisify:i}=n(3),a=n(13),s=i(r.stat),c=i(r.lstat),u={directory:"isDirectory",file:"isFile"};function l({type:e}){if(!(e in u))throw new Error(`Invalid type specified: ${e}`)}const d=(e,t)=>void 0===e||t[u[e]]();e.exports=async(e,t)=>{l(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const n=t.allowSymlinks?s:c;return a(e,async e=>{try{const r=await n(o.resolve(t.cwd,e));return d(t.type,r)}catch(e){return!1}},t)},e.exports.sync=(e,t)=>{l(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const n=t.allowSymlinks?r.statSync:r.lstatSync;for(const r of e)try{const e=n(o.resolve(t.cwd,r));if(d(t.type,e))return r}catch(e){}}},function(e,t,n){"use strict";const o=n(14);class r extends Error{constructor(e){super(),this.value=e}}const i=async(e,t)=>t(await e),a=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new r(t[0]);return!1},s=async(e,t,n)=>{n={concurrency:1/0,preserveOrder:!0,...n};const s=o(n.concurrency),c=[...e].map(e=>[e,s(i,e,t)]),u=o(n.preserveOrder?1:1/0);try{await Promise.all(c.map(e=>u(a,e)))}catch(e){if(e instanceof r)return e.value;throw e}};e.exports=s,e.exports.default=s},function(e,t,n){"use strict";const o=n(15),r=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let n=0;const r=()=>{n--,t.length>0&&t.shift()()},i=(e,t,...i)=>{n++;const a=o(e,...i);t(a),a.then(r,r)},a=(o,...r)=>new Promise(a=>((o,r,...a)=>{n<e?i(o,r,...a):t.push(i.bind(null,o,r,...a))})(o,a,...r));return Object.defineProperties(a,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length}}),a};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const o=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=o,e.exports.default=o},function(e,t,n){"use strict";const o=n(4),{promisify:r}=n(3),i=r(o.access);e.exports=async e=>{try{return await i(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return o.accessSync(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),a=n(0);t.default=()=>o(void 0,void 0,void 0,(function*(){let e;switch(r.platform()){case"darwin":e=i.resolve(r.homedir(),"Library","Application Support","Atom");break;case"win32":e=process.env.APPDATA?i.resolve(process.env.APPDATA,"Atom"):"";break;default:e=i.resolve(r.homedir(),".config","Atom")}a.showFolder("App Data Folder",e)}))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);t.default=()=>o(void 0,void 0,void 0,(function*(){const e=atom.project.getPaths();if(0===e.length)return r.warn("Editor has no projects");const t=r.getConfig("dependencyPaths");if(!t||!t.length)return r.warn("No dependency folders specified in package configuration");e.forEach(e=>{e.startsWith("atom://")||t.forEach(t=>o(void 0,void 0,void 0,(function*(){const n=i.resolve(e,t);r.showFolder(`\`${t}\``,n)})))})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(0);t.default=()=>{o.getPackagesDirs().forEach(e=>{r.showFolder("Packages Folder",e)})}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=()=>o(void 0,void 0,void 0,(function*(){const e=atom.project.getPaths();if(0===e.length)return r.warn("Editor has no projects");e.forEach(e=>{e.startsWith("atom://")||r.showFolder("Project Folder",e)})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),r=n(0);t.default=()=>{const e=o.dirname(atom.config.getUserConfigPath());r.showFolder("Configuration Folder",e)}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=()=>o(void 0,void 0,void 0,(function*(){const e=atom.commandInstaller.getResourcesDirectory();r.showFolder("Resources Folder",e)}))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=e=>o(void 0,void 0,void 0,(function*(){const t=e||atom.workspace.getActivePaneItem();if(!t||"TextEditor"!==t.constructor.name&&"ImageEditor"!==t.constructor.name)r.warn("Active pane is not an editor");else{const e=t.buffer.file?t.buffer.file.path:"";e?r.showInFolder(e):r.warn("File hasn't been saved yet")}}));t.revealFile=i;t.revealFiles=()=>{const e=atom.workspace.getPaneItems();e.length?e.forEach(e=>{i(e)}):r.warn("No active files")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),r={notify:{title:"Notifications",description:"Specify which types of notifications to display",type:"string",enum:[{value:"none",description:"None"},{value:"warnings",description:"Warnings Only"},{value:"all",description:"All Notifications"}],default:"all",order:1},dependencyPaths:{title:"Dependency Paths",description:"Specify dependency folders that can be opened using the *Browse: Dependency Folders* command",type:"array",default:["bower_components","node_modules","vendor"],items:{type:["string"]},order:2},beep:{title:"Beep on error",description:"Play beep sound when errors occur",type:"boolean",default:!0,order:3},openAppPackage:(()=>{if("darwin"===o.platform()){let e;switch(atom.getReleaseChannel()){case"beta":e="Atom Beta";break;case"nightly":e="Atom Nightly";break;default:e="Atom"}return{title:"Open App Package",description:`Specify whether *Browse: Application Folder* opens the \`${e}.app\` package or the executable that started the Node.js process (i.e. \`Atom Helper\`)`,type:"boolean",default:!0,order:3}}return{}})(),customFileManager:{title:"Custom File Manager Options",type:"object",order:5,properties:{fullPath:{title:"Full Path",description:"Specify the full path to a custom file manager",type:"string",default:"",order:1},openArgs:{title:"Open Arguments",description:"Specify custom arguments to open a folder. The use of the `%path%` placeholder is optional.",type:"array",default:[],items:{type:["string","integer"]},order:2},revealArgs:{title:"Reveal Arguments",description:"Specify custom arguments to reveal a file. The use of the `%path%` placeholder is optional.",type:"array",default:[],items:{type:["string","integer"]},order:3}}}};t.config=r}]);
//# sourceMappingURL=browse.js.map